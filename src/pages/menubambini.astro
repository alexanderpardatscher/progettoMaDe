---
import Layout from '../components/Layout.astro';

const data = await  fetch("http://localhost:1337/api/pietanze/");
const response = await data.json();
let nomi = await response.data.filter(d => d.attributes.tipo==="primo-bimbi");
let nomi2 = await response.data.filter(g => g.attributes.tipo==="secondo-bimbi");

---

<Layout title="Locanda dal Barba">
    <main>
        <h1>Menu Bimbi</h1>

        <div>
            <h2>Primi Bimbi</h2>
            {nomi.map((data)=>
            <article class="scatola"> 
                <h3 class="pietanza">{data.attributes.nome}</h3>
                <p>{data.attributes.prezzo}€</p>
            </article>)}

            <h2>Secondi Bimbi</h2>
            {nomi2.map((data)=>
            <article class="scatola"> 
                <h3 class="pietanza">{data.attributes.nome}</h3>
                <p>{data.attributes.prezzo}€</p>
            </article>)}
        </div>
    </main>
</Layout>

<style>
    h1{
        text-align: center;
        background-image: linear-gradient(to bottom right, red, yellow);
		-webkit-background-clip: text;
		color: transparent;
    }

    h2{
        text-align: center;
        background-image: linear-gradient(to bottom right, red, yellow);
		-webkit-background-clip: text;
		color: transparent;
    }

    main{
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    

    div{
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 20px;
    }

    .scatola{
        align-self: center;
        width: 50%;
        border: solid;
        border-width: 5px;
        color: black;
    }

    .pietanza{
        text-align: center;
        background-image: linear-gradient(to bottom right, red, yellow);
		-webkit-background-clip: text;
		color: transparent;
    }
</style>